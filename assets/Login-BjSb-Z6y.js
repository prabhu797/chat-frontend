import{r as i,u as p,a as f,j as t}from"./index-D89FvVy2.js";import{B as v,T as u,a as j,i as w}from"./axios-CfuOtnxI.js";import{s as l}from"./toast-BKwyvtYS.js";const S=()=>{const[e,m]=i.useState(""),[r,c]=i.useState(""),{login:d}=p(),g=f(),x=async s=>{var n,o;s.preventDefault();try{const a=await w.post("/auth/login",{username:e,password:r});l("success","Logged in successfully âœ¨"),d(a.data.user,a.data.token),g("/")}catch(a){const h=((o=(n=a.response)==null?void 0:n.data)==null?void 0:o.message)||"Login failed.";l("error",h)}};return t.jsx(v,{sx:{maxWidth:400,mx:"auto",mt:10},children:t.jsxs("form",{onSubmit:x,children:[t.jsx(u,{fullWidth:!0,label:"Username",value:e,onChange:s=>m(s.target.value),margin:"normal"}),t.jsx(u,{fullWidth:!0,label:"Password",type:"password",value:r,onChange:s=>c(s.target.value),margin:"normal"}),t.jsx(j,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:2},children:"Login"})]})})};export{S as default};
