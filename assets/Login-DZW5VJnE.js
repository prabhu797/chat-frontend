import{r as u,u as p,a as f,j as t,B as v}from"./index-Be_7_VrC.js";import{T as i,B as j,i as w,s as l}from"./toast-LW00sa0M.js";const B=()=>{const[e,m]=u.useState(""),[n,c]=u.useState(""),{login:d}=p(),g=f(),x=async s=>{var r,o;s.preventDefault();try{const a=await w.post("/auth/login",{username:e,password:n});l("success","Logged in successfully âœ¨"),d(a.data.user,a.data.token),g("/")}catch(a){const h=((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.message)||"Login failed.";l("error",h)}};return t.jsx(v,{sx:{maxWidth:400,mx:"auto",mt:10},children:t.jsxs("form",{onSubmit:x,children:[t.jsx(i,{fullWidth:!0,label:"Username",value:e,onChange:s=>m(s.target.value),margin:"normal"}),t.jsx(i,{fullWidth:!0,label:"Password",type:"password",value:n,onChange:s=>c(s.target.value),margin:"normal"}),t.jsx(j,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:2},children:"Login"})]})})};export{B as default};
